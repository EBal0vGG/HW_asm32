# Домашнее задание: Вычисление площади фигуры, ограниченной тремя кривыми

## Описание задачи
Вычислить с заданной точностью площадь фигуры, ограниченной тремя кривыми:
- f1(x) = 3 / ((x - 1)^2 + 1)
- f2(x) = sqrt(x + 0.5)
- f3(x) = exp(-x)

Используются:
- Поиск корней: комбинированный метод (хорд и касательных)
- Интегрирование: формула трапеций
- Все функции и их производные реализованы на ассемблере (NASM, cdecl)
- Остальной код — на C

## Структура проекта
- `main.c` — основной файл, вычисляет площадь
- `func.asm` — ассемблерные реализации функций и производных
- `root.c` — комбинированный метод для поиска корней
- `test_func.c` — тестовые функции для проверки root/integral
- `parsing.c` — обработка командной строки и тестовые режимы
- `Makefile` — сборка, тесты, clean

## Сборка и запуск
```sh
make clean
make all
./integral
```

## Тесты
- Для проверки функций root и integral используйте:
```sh
make test
```
или
```sh
./tests
```
- Тесты используют простые линейные и константные функции, чтобы гарантировать корректность численных методов.

## Проверка
- При запуске `./integral` выводится площадь фигуры с точностью до 1e-4.
- Все промежуточные значения корней и интегралов вычисляются автоматически.

## Примечания
- Для поиска корней между f1 и f2, f1 и f3 используется метод бисекции для устойчивости.
- Все функции и производные реализованы на ассемблере, кроме тестовых.
- Makefile поддерживает цели `all`, `clean`, `test`.

---

## Опции командной строки

- `--help` или `-h` — выводит справку по ключам.
- `--root` или `-r` — выводит абсциссы точек пересечения кривых.
- `--iterations` или `-i` — выводит число итераций для поиска корней.
- `--test-root` или `-R` — тестирует функцию root:
  ```
  ./integral --test-root f1:f2:3.0:5.0:0.0001:4.0
  ./integral --test-root 1:2:3.0:5.0:0.0001:4.0
  ```
- `--test-integral` или `-I` — тестирует функцию integral:
  ```
  ./integral --test-integral f1:3.0:5.0:0.0001:8.0
  ./integral --test-integral 1:3.0:5.0:0.0001:8.0
  ```

## Пример вывода

```
Площадь фигуры: 1.234567
```

Пример вывода для теста:
```
4.00001 0.00001 0.0000025
```

## Автоматические тесты на Python

Для запуска автотестов (если установлен Python 3):
```sh
python3 tests.py
```
или
```sh
python tests.py
```

## Требования к окружению
- gcc с поддержкой 32-битных бинарников (например, `sudo apt install gcc-multilib`)
- nasm (например, `sudo apt install nasm`)
- make
- Python 3 (для автотестов, опционально)

